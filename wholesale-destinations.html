<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Wholesale Destinations - ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ï‡∏≤‡∏° Wholesale ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® Tourwow" />
    <!-- Cache Buster: v1.0.0 - 2026-01-30 -->
    <title>Wholesale Destinations - Tourwow</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="tour-image-manager.css" />
    <link rel="stylesheet" href="date-picker-component.css" />
    <link rel="stylesheet" href="searchable-dropdown-component.css" />
    <link rel="stylesheet" href="table-sorting-component.css" />
    <link rel="stylesheet" href="filter-sort-dropdown-component.css" />
    <link rel="stylesheet" href="wholesale-destinations.css" />

    <!-- Configuration -->
    <script>
      (function() {
        const hostname = window.location.hostname;

        if (hostname === 'staging-finance-backoffice-report.vercel.app') {
          window.API_BASE_URL = 'https://staging-finance-backoffice-report-api.vercel.app';
          window.ENVIRONMENT = 'staging';
          console.log('üéØ STAGING Environment - API:', window.API_BASE_URL);
        } else if (hostname === 'finance-backoffice-report.vercel.app') {
          window.API_BASE_URL = 'https://finance-backoffice-report-api.vercel.app';
          window.ENVIRONMENT = 'production';
          console.log('üéØ PRODUCTION Environment - API:', window.API_BASE_URL);
        } else {
          const sessionEnv = sessionStorage.getItem('env') || 'staging';
          window.ENVIRONMENT = sessionEnv;
          window.API_BASE_URL = sessionEnv === 'staging'
            ? 'https://staging-finance-backoffice-report-api.vercel.app'
            : 'https://finance-backoffice-report-api.vercel.app';
          console.log('üéØ LOCALHOST Environment:', window.ENVIRONMENT, '- API:', window.API_BASE_URL);
        }
      })();
    </script>
    <script src="token-utils.js?v=20250128"></script>
    <script src="tour-image-manager-api.js"></script>
    <script src="wholesale-destinations-api.js"></script>
    <script src="date-picker-component.js"></script>
    <script src="searchable-dropdown-component.js"></script>
    <script src="table-sorting-component.js"></script>
    <script src="filter-sort-dropdown-component.js"></script>
    <script src="menu-component.js"></script>

    <!-- Load sidebar state -->
    <script>
      (function() {
        const savedState = localStorage.getItem('sidebar-collapsed');
        if (savedState === 'true') {
          document.documentElement.classList.add('sidebar-collapsed-init');
        }
      })();
    </script>
    <style>
      .sidebar-collapsed-init .app-wrapper {
        margin-left: 0 !important;
      }
      .sidebar-collapsed-init .sidebar {
        width: 0 !important;
        overflow: hidden !important;
        border-right: none !important;
      }
      .sidebar-collapsed-init .main-content {
        margin-left: 0 !important;
      }
    </style>
  </head>
  <body>
    <!-- Skip to main content -->
    <a href="#main-content" class="skip-link">‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>

    <div class="app-wrapper">
      <!-- Mobile Menu Toggle -->
      <button class="mobile-menu-toggle" aria-label="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π" aria-expanded="false">
        <span class="hamburger-icon">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>

      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar" role="navigation" aria-label="‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å">
        <div class="logo">
          <img src="https://financebackoffice-staging2.tourwow.com/assets/images/tourwow-logo.png" alt="Tourwow Logo" />
        </div>
        <nav class="nav-menu">
          <!-- Menu will be rendered by menu-component.js -->
        </nav>
        <button class="sidebar-toggle-btn" id="sidebarToggle" aria-label="‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π" title="‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          <span>‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π</span>
        </button>
      </aside>

      <!-- Main Content -->
      <main class="main-content" id="main-content" role="main">
        <!-- Password Protection Overlay (covers only main content) -->
        <div id="pageProtectionOverlay" class="page-protection-overlay">
          <div class="protection-modal">
            <h2 class="protection-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            <p class="protection-message">‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            <input type="password" id="protectionPassword" class="protection-input" placeholder="" autocomplete="off">
            <div class="protection-actions">
              <button type="button" id="protectionSubmit" class="protection-submit">Submit</button>
            </div>
            <p id="protectionError" class="protection-error" style="display: none;">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
          </div>
        </div>
        <style>
          .main-content {
            position: relative;
          }
          .main-content.locked {
            overflow: hidden !important;
            height: 100vh !important;
          }
          .page-protection-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 9999;
          }
          .page-protection-overlay.hidden {
            display: none;
          }
          .page-protection-overlay.hidden .protection-modal {
            display: none;
          }
          .protection-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #333;
            border-radius: 12px;
            padding: 28px 32px;
            max-width: 420px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 10000;
          }
          .protection-title {
            font-family: 'Kanit', sans-serif;
            font-size: 20px;
            font-weight: 500;
            color: #fff;
            margin: 0 0 12px;
          }
          .protection-message {
            font-family: 'Kanit', sans-serif;
            font-size: 14px;
            color: #aaa;
            margin: 0 0 20px;
          }
          .protection-input {
            width: 100%;
            padding: 10px 12px;
            border: none;
            border-radius: 4px;
            background: #666;
            font-family: 'Kanit', sans-serif;
            font-size: 16px;
            color: #fff;
            outline: none;
            box-sizing: border-box;
          }
          .protection-input:focus {
            background: #777;
          }
          .protection-input::placeholder {
            color: #999;
          }
          .protection-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
          }
          .protection-submit {
            padding: 8px 24px;
            background: transparent;
            border: none;
            border-radius: 4px;
            font-family: 'Kanit', sans-serif;
            font-size: 15px;
            color: #aaa;
            cursor: pointer;
            transition: color 0.2s;
          }
          .protection-submit:hover {
            color: #fff;
          }
          .protection-error {
            font-family: 'Kanit', sans-serif;
            font-size: 13px;
            color: #ff6b6b;
            margin: 12px 0 0;
            text-align: center;
          }
        </style>
        <script>
          (function() {
            const CORRECT_PASSWORD = 'gapgap123456';
            const STORAGE_KEY = 'wholesale_destinations_unlocked';
            const mainContent = document.getElementById('main-content');

            // Check if already unlocked
            if (sessionStorage.getItem(STORAGE_KEY) === 'true') {
              document.getElementById('pageProtectionOverlay').classList.add('hidden');
            } else {
              // Lock scrolling
              mainContent.classList.add('locked');
            }

            document.getElementById('protectionSubmit').addEventListener('click', checkPassword);
            document.getElementById('protectionPassword').addEventListener('keypress', function(e) {
              if (e.key === 'Enter') checkPassword();
            });

            function checkPassword() {
              const input = document.getElementById('protectionPassword');
              const error = document.getElementById('protectionError');

              if (input.value === CORRECT_PASSWORD) {
                sessionStorage.setItem(STORAGE_KEY, 'true');
                document.getElementById('pageProtectionOverlay').classList.add('hidden');
                mainContent.classList.remove('locked');
              } else {
                error.style.display = 'block';
                input.value = '';
                input.focus();
              }
            }
          })();
        </script>

        <!-- Top Bar -->
        <nav class="top-bar" role="banner">
          <div class="top-bar-container">
            <!-- Navigation Menu -->
            <ul class="navbar-list">
              <!-- Menu will be rendered by menu-component.js -->
            </ul>
          </div>
        </nav>

        <!-- Content Area -->
        <div class="content-area">
          <!-- Breadcrumb -->
          <nav class="breadcrumb" aria-label="breadcrumb">
            <ol>
              <li><a href="#">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
              <li><a href="#">Report</a></li>
              <li aria-current="page">Wholesale Destinations</li>
            </ol>
          </nav>

          <!-- Page Header -->
          <header class="page-header">
            <svg class="page-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <rect x="8" y="2" width="8" height="4" rx="1" stroke="currentColor" stroke-width="2"/>
              <path d="M9 12h6M9 16h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <h1>Wholesale Destinations</h1>
          </header>

          <!-- Report Content Section -->
          <section class="report-content-section" id="reportContentSection">
            <!-- Dashboard will be rendered here by JavaScript -->
          </section>
        </div>
      </main>
    </div>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <script src="wholesale-destinations.js"></script>
  </body>
</html>
